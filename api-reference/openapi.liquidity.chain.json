{
  "openapi": "3.0.0",
  "info": {
    "title": "liquidity.chain.api",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "https://api.stage.satschel.com/v2/chain",
      "description": "Staging server"
    },
    {
      "url": "https://api.satschel.com/v2/chain",
      "description": "Production server"
    }
  ],
  "paths": {
    "/applications": {
      "post": {
        "summary": "Create loan application",
        "parameters": [
          {
            "name": "key",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "API key for authentication"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoanRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Loan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoanResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "summary": "applications",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "example": {
                  "borrower_id": "1",
                  "lender_id": "2",
                  "primary_servicer_id": "3",
                  "secondary_servicer_id": "4",
                  "loan_type": 0,
                  "principal_amount": 150000000000,
                  "loan_amount": 1500000000,
                  "collateral_type": 0,
                  "encumbered_status": 0,
                  "interest_rate": 12,
                  "term": 1200,
                  "payment_frequency": 0,
                  "installment": 12,
                  "Request": {
                    "ApplicantInfo": {
                      "ApplicantFirstName": "Paul",
                      "ApplicantLastName": "Smith",
                      "ApplicantDOB": "19951111",
                      "ApplicantSSN": "123456789",
                      "ApplicantAddress": "123 Main St",
                      "ApplicantCity": "New York",
                      "ApplicantState": "NY",
                      "ApplicantZip": "10001",
                      "ApplicantIncome": "55000.0",
                      "MonthlyGross": 55000,
                      "EmploymentType": "EMPLOYED"
                    },
                    "ApplicationInfo": {
                      "ApplicationID": "app-123",
                      "ApplicationType": "Complete",
                      "ApplicantsNumber": "1"
                    },
                    "CoApplicantInfo": {
                      "CoApplicantSSN": ""
                    },
                    "DealerInfo": {
                      "DealerID": "",
                      "DealerName": "",
                      "DealerState": ""
                    },
                    "PartnerInfo": {
                      "PartnerName": "simplici-direct",
                      "ProgramPartner": "Simplici"
                    },
                    "RequestedTermsInfo": {
                      "RequestedLoanAmount": "28875.0",
                      "RequestedLoanRate": "18.0",
                      "RequestedLoanTerm": "36.0"
                    },
                    "VehicleInfo": {
                      "VehicleMake": "Toyota",
                      "VehicleModel": "Camry",
                      "VehicleYear": "2020.0",
                      "VehicleVIN": "1HGCM82633A004352"
                    }
                  },
                  "Response": {
                    "ApplicationID": "app-123",
                    "Decision": "APPROVED",
                    "CreditScorePrimary": 680,
                    "LoanTerms": [
                      {
                        "Rate": 10.83,
                        "TermMonths": 36,
                        "TotalLoanAmount": 28875.0
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/applications/{loan_id}": {
      "get": {
        "summary": "Get loan by loan id",
        "description": "Get a single Loan by ID with PII information",
        "parameters": [
          {
            "name": "loan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Loan Id"
            }
          },
          {
            "name": "key",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "API key for authentication"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/loan-data/{loan_id}": {
      "get": {
        "summary": "Get loan by loan id",
        "description": "Get a single Loan by ID without PII information",
        "parameters": [
          {
            "name": "loan_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Loan Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response"
          }
        }
      }
    },
    "/request-documents": {
      "post": {
        "summary": "request-documents",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestDocuments"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/verify-documents": {
      "post": {
        "summary": "verify-documents",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VerifyDocuments"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/start-underwriting": {
      "post": {
        "summary": "start-underwriting",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartUnderwriting"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/complete-underwriting": {
      "post": {
        "summary": "complete-underwriting",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteUnderwriting"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/request-collateral": {
      "post": {
        "summary": "request-collateral",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RequestCollateral"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/approve-collateral": {
      "post": {
        "summary": "approve-collateral",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveCollateral"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/fund-loan": {
      "post": {
        "summary": "fund-loan",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FundLoan"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/initiate-payment": {
      "post": {
        "summary": "initiate-payment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InitiateRepayment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },    
    "/loan-payment": {
      "post": {
        "summary": "loan-payment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoanRepay"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/acknowledge-payment": {
      "post": {
        "summary": "acknowledge-payment",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AcknowledgePayment"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/close": {
      "post": {
        "summary": "close",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CloseLoan"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/default": {
      "post": {
        "summary": "default",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DefaultLoan"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/payment-reminders": {
      "post": {
        "summary": "payment-reminders",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentReminder"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/delinquent": {
      "post": {
        "summary": "delinquent",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DelinquentLoan"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TransactionResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/auth-token": {
      "post": {
        "summary": "Exchange credentials for auth token",
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthTokenRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Token issued",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthTokenResponse"
                }
              }
            }
          }
        },
        "security": []
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      }
    },
    "schemas": {
      "LoanRequest": {
        "type": "object",
        "properties": {
          "applicationId": { "type": "string", "example": "app-usa-2025-0001" },
          "borrowerId": { "type": "string", "example": "user_98765" },
          "lenderId": { "type": "string", "example": "lender_capital_auto_01" },
          "primaryServicerId": { "type": "string", "example": "servicer_us_main" },
          "secondaryServicerId": { "type": "string", "example": "servicer_backup_us1" },
          "loanType": {
            "type": "string",
            "example": "AutoLoan",
            "enum": [
              "TermLoan", "RevolvingCredit", "AssetBased", "Bridge", "Mezzanine",
              "Syndicated", "EquipmentFinance", "InvoiceFinance", "MerchantCashAdvance",
              "PersonalLoan", "AutoLoan", "StudentLoan", "Mortgage", "LineOfCredit",
              "ConstructionLoan", "HardMoneyLoan", "Other"
            ]
          },
          "principalAmount": { "type": "number", "example": "1000" },
          "loanAmount": { "type": "number", "example": "1500" },
          "collateralType": {
            "type": "string",
            "example": "Vehicle",
            "enum": [
              "RealEstate", "Equipment", "Inventory", "Receivables", "Securities", "Cash",
              "Vehicle", "PersonalGuarantee", "IntellectualProperty", "AgriculturalAssets",
              "InsurancePolicy", "DepositAccount", "PreciousMetals", "Other", "None"
            ]
          },
          "encumberedStatus": {
            "type": "string",
            "example": "Lien",
            "enum": [
              "Lien", "PostedCollateral", "SecurityInterest", "RepossessionInProgress",
              "TaxLienOrJudgment", "SalvageOrRebuiltTitle", "LeaseBuyoutEncumbrance", "Unencumbered"
            ]
          },
          "interestRate": { "type": "number", "example": "5.75" },
          "term": { "type": "number", "example": "12" },
          "delinquentAmount": { "type": "number", "example": "15000" },
          "delinquentDays": { "type": "number", "example": "90" },
          "paymentFrequency": {
            "type": "string",
            "example": "Monthly" ,
            "enum": ["Monthly", "Quarterly", "SemiAnnual", "Annual"]
          },
          "installment": { "type": "number", "example": "12" },
          "originationDate": { "type": "string", "format": "date", "example": "2025-06-15" },
          "maturityDate": { "type": "string", "format": "date", "example": "2026-06-15" },
          "firstPaymentDate": { "type": "string", "format": "date", "example": "2025-07-15" },
          "lastPaymentDate": { "type": "string", "format": "date", "example": "2026-06-15" },
          "nextPaymentDate": { "type": "string", "format": "date", "example": "2025-07-15" },
          "defaultProbability": { "type": "number", "example": "0.015" },
          "grade": { "type": "string", "example": "B" },
          "predictedPrincipalPaid": { "type": "number", "example": "1500" },
          "predictedInterestPaid": { "type": "number", "example": "400" },
          "predictedChargeoffAmount": { "type": "number", "example": "100" },
          "predictedRecoveredAmount": { "type": "number", "example": "50" },
          "predictedGrossCashflow": { "type": "number", "example": "1500" },
          "predictedNetCashflow": { "type": "number", "example": "1450" },
          "predictedYield": { "type": "number", "example": "0.35" },
          "apr": { "type": "number", "example": "0.28" },
          "fairValuePrice": { "type": "number", "example": "1425" },
          "lendingDecisionReason": { "type": "string", "example": "Approved based on adjusted LTV and strong employment history" },
          "creditReportHash": { "type": "string", "example": "0xa3f1c8b6d42e7e9149d0b8a2fe67c9d5beed0123a1c4e7f89b23d6a5f9e4bc10" },
          "retailInstallmentContractHash": { "type": "string", "example": "0xa3f1c8b6d42e7e9149d0b8a2fe67c9d5beed0123a1c4e7f89b23d6a5f9e4bc10" },
          "applicantCreditVision": { "type": "string", "example": "FICO 680, stable income, low credit utilization" },
          "coApplicantCreditVision": { "type": "string", "example": "FICO 660, 1 missed payment in 12 months" },
          "macroEconomicFeatures": {
            "type": "object",
            "properties": {
              "unemployment": { "type": "number", "example": "3.8" },
              "cpi": { "type": "number", "example": "3.1" },
              "fedRate": { "type": "number", "example": "5.25" }
            },
            "required": ["unemployment", "cpi", "fedRate"]
          },
          "Request": {
            "type": "object",
            "properties": {
              "ApplicantInfo": {
                "type": "object",
                "properties": {
                  "AddressFull": { "type": "string", "example": "8329 74TH, SCOTTSDALE, AZ 85258-2704" },
                  "AddressTotalMonths": { "type": ["number", "null"], "example": null },
                  "ApplicantAddress": { "type": "string", "example": "8329 74TH" },
                  "ApplicantAge": { "type": "string", "example": "64" },
                  "ApplicantCity": { "type": "string", "example": "SCOTTSDALE" },
                  "ApplicantDOB": { "type": "string", "example": "19610301" },
                  "ApplicantEmail": { "type": "string", "example": "" },
                  "ApplicantEmploymentTime": { "type": "string", "example": "0.0" },
                  "ApplicantEmploymentTypes": { "type": "string", "example": "NONE,NONE" },
                  "ApplicantFirstName": { "type": "string", "example": "ANA" },
                  "ApplicantFullAddress": { "type": "string", "example": "8329 74TH" },
                  "ApplicantIncome": { "type": "string", "example": "12250.0" },
                  "ApplicantIncomePrimary": { "type": "string", "example": "12250.0" },
                  "ApplicantLastName": { "type": "string", "example": "FLECHA" },
                  "ApplicantResidencePays": { "type": "string", "example": "0.0" },
                  "ApplicantSSN": { "type": "string", "example": "666522638" },
                  "ApplicantState": { "type": "string", "example": "AZ" },
                  "ApplicantTimeAtResidence": { "type": "string", "example": "0.0" },
                  "ApplicantZip": { "type": "string", "example": "85258-2704" },
                  "County": { "type": "string", "example": "Maricopa County" },
                  "Email": { "type": ["string", "null"], "example": null },
                  "EmploymentCompany": { "type": "string", "example": "" },
                  "EmploymentTotalMonths": { "type": ["number", "null"], "example": null },
                  "EmploymentType": { "type": "string", "example": "NONE" },
                  "EmploymentWorkPhone": { "type": "string", "example": "" },
                  "EstimatedIncome": { "type": "string", "example": "10000.0" },
                  "HomePhone": { "type": "string", "example": "" },
                  "HousingMonthlyPayment": { "type": ["number", "null"], "example": null },
                  "MiddleInitial": { "type": "string", "example": "" },
                  "MonthlyGross": { "type": "number", "example": 12250 },
                  "OtherIncomeAmount": { "type": ["number", "null"], "example": null },
                  "OtherIncomeType": { "type": "string", "example": "NONE" },
                  "ReportedIncome": { "type": "string", "example": "12250.0" },
                  "StreetNumber": { "type": "string", "example": "8329" },
                  "UnitNumber": { "type": "string", "example": "" }
                }
              },
              "ApplicationInfo": {
                "type": "object",
                "properties": {
                  "ApplicantNumber": { "type": "string", "example": "" },
                  "ApplicantsNumber": { "type": "string", "example": "1" },
                  "ApplicationID": { "type": "string", "example": "1e52f7d9cd61285b587828c2" },
                  "ApplicationType": { "type": "string", "example": "Complete" },
                  "RefiBool": { "type": "string", "example": "n" },
                  "RequestedLoanID": { "type": "string", "example": "" }
                }
              },
              "CoApplicantInfo": {
                "type": "object",
                "properties": {
                  "CoApplicantSSN": { "type": "string", "example": "" }
                }
              },
              "DealerInfo": {
                "type": "object",
                "properties": {
                  "DealerID": { "type": "string", "example": "" },
                  "DealerName": { "type": "string", "example": "" },
                  "DealerState": { "type": "string", "example": "" }
                }
              },
              "PartnerInfo": {
                "type": "object",
                "properties": {
                  "PartnerName": { "type": "string", "example": "simplici-direct" },
                  "ProgramPartner": { "type": "string", "example": "Simplici" }
                }
              },
              "RequestedTermsInfo": {
                "type": "object",
                "properties": {
                  "RequestedLoanAmount": { "type": "string", "example": "28875.000000000004" },
                  "RequestedLoanBackendProductsAmount": { "type": "string", "example": "0.0" },
                  "RequestedLoanDTI": { "type": "string", "example": "0.03535425679536365" },
                  "RequestedLoanDownPayment": { "type": "string", "example": "0.0" },
                  "RequestedLoanGAP": { "type": "string", "example": "0.0" },
                  "RequestedLoanPTI": { "type": "string", "example": "0.1" },
                  "RequestedLoanPayment": { "type": "string", "example": "433.12500000000006" },
                  "RequestedLoanRate": { "type": "string", "example": "18.0" },
                  "RequestedLoanTerm": { "type": "string", "example": "36.0" }
                }
              },
              "VehicleInfo": {
                "type": "object",
                "properties": {
                  "VehicleAge": { "type": "string", "example": "10" },
                  "VehicleMake": { "type": "string", "example": "FORD" },
                  "VehicleMileage": { "type": "string", "example": "10000" },
                  "VehicleModel": { "type": "string", "example": "Fusion" },
                  "VehicleRetailValue": { "type": "string", "example": "35000" },
                  "VehicleVIN": { "type": "string", "example": "3FA6P0H74FR288905" },
                  "VehicleWholesaleValue": { "type": "string", "example": "26250.0" },
                  "VehicleYear": { "type": "string", "example": "2015.0" }
                }
              }
            }
          },
          "Response": {
            "type": "object",
            "properties": {
              "ApplicationID": { "type": "string", "example": "1e52f7d9cd61285b587828c2" },
              "ApplicationType": { "type": "string", "example": "Complete" },
              "Comments": { "type": "array", "items": { "type": "string" }, "example": [] },
              "CreditScoreCoapplicant": { "type": "number", "example": 0.0 },
              "CreditScorePrimary": { "type": "number", "example": 753 },
              "Date": { "type": "string", "example": "2025-12-11" },
              "DealerID": { "type": "string", "example": "" },
              "Decision": { "type": "string", "example": "APPROVED" },
              "DecisionDate": { "type": "string", "example": "2025-12-11 17:21:52" },
              "DeclineReason": { "type": "string", "example": "" },
              "LoanTerms": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "AcquisitionFee": { "type": "number", "example": 0.0 },
                    "AssetPrice": { "type": "number", "example": 1.01 },
                    "DEALER_FLAT": { "type": "string", "example": "288.75" },
                    "DefaultProb": { "type": "number", "example": 0.0 },
                    "Description": { "type": "string", "example": "Karus Option" },
                    "Discount": { "type": "number", "example": -1.0 },
                    "FundedAmount": { "type": "number", "example": 29163.75 },
                    "GrossYield": { "type": "number", "example": 0.1072 },
                    "IRR": { "type": "number", "example": 0.1023 },
                    "LTV": { "type": "number", "example": 110.0 },
                    "Participation": { "type": ["number", "null"], "example": null },
                    "Payment": { "type": "number", "example": 943.01 },
                    "Rate": { "type": "number", "example": 10.83 },
                    "TermMonths": { "type": "number", "example": 36 },
                    "TotalLoanAmount": { "type": "number", "example": 28875.0 },
                    "VehicleWholesaleValue": { "type": "number", "example": 26250.0 }
                  }
                }
              },
              "Stipulations": {
                "type": "array",
                "items": { "type": "string" },
                "example": [
                  "18+ Years Old",
                  "Valid Drivers License",
                  "Proof of Income",
                  "Proof of Insurance",
                  "Proof of Residence",
                  "3 References",
                  "Minimum Downpayment Approved: $1443.75"
                ]
              }
            }
          },
          "Underwriting": {
            "type": "object",
            "properties": {
              "CashflowsCsv": {
                "type": "string",
                "description": "CSV string containing monthly cashflow projections",
                "example": "Month,Scheduled principal payment,Scheduled interest payment..."
              },
              "CoApplicantCreditBureauPDF": {
                "type": "string",
                "description": "Base64 encoded PDF of co-applicant credit bureau report",
                "example": "JVBERi0xLjUKJeLjz9MKMyAwIG9iago8PC9Db2xvclNwYWNlL0RldmljZVJHQi9NYXNrIFsyNTUgMjU1IDI1NSAyNTUgMjU1IDI1NSBdL1N1YnR5cGUvSW1hZ2UvSGVpZ2h0IDM4L0ZpbHRlci9GbGF0ZURlY29kZS9UeXBlL1hPYmplY3QvV2lkdGggMTEyL0xlbmd0aCAxNDIwL0JpdHNQZXJDb21wb25lbnQgOD4+c3RyZWFtCnic7Zo7axRRGIYFO1t7W0s7Kztbe3trG1t/gT/AP2ATSSGkEEFEEEGQGRUSvBFECRHFG8HgPcT12fPsfp7M7OyuwezswnwcwszZc/nOe97vcs6k1+ukk0466aSTA5EvO7vLG5/O3Fk/trJ6+GpJOXrt0albzy49fbP59Wfb2i2YrGxuHb++dmipoJy48fjsvRcUwDyy/IAa/oJq2zoujFxcfR2gVaj44cfOlZcfhRrqwuG2lFwUAcNDSyWcXN/+3tQGGM/df0UzIP21+3uW6i2WFJ++aODwkFfIeff9ts91SZAWneGPEfgGRGDo6+nbzyFhE1FhKYaPW+jC00gBH8ABIl+hJTEdhMd0IQHoKNokeMIUaEpC+YWHG3L15M0n58sNKHp5/R1xSm9JSKISwN0C4n7bus+pYOk4TyA1U7KQdlJPJebfG9KYSrGlkte2FZ9rMQxh7JATZvIKOcETWvLrzbefARmu2hgy07JVfRdAyOcBDRh9NZM30GPp/EQm4E8dnk0CJ0mBDNYpCy2gYi/5VawbP9BL5MyNHaGeA2mLas+taNRyMjnM/hEJrDBzYxPPyaOWxilMfm3rG+SEom3rPo+COQMgfIsgDmi8gjCkBTSeITBQE/3JBOCwJ1OcQ9u6z6mIz5T5pOQUfxwsD02FlgeteV03p64fRiSGsXWi4N+wzSkb18UjD5CSqI9viZ7e43mY4iFcQ..."
              },
              "CoApplicantCreditBureauTradeLines": {
                "type": "string",
                "description": "CSV string containing co-applicant credit bureau trade lines",
                "example": ""
              },
              "DealTermsInfo": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "ApprovedDownPayment": { "type": "string", "example": "1443.75" },
                    "TermsAPR": { "type": "string", "example": "0.0783" },
                    "TermsDTI": { "type": "string", "example": "0.11213880725221191" },
                    "TermsFrontEndLTV": { "type": "string", "example": "1.1" },
                    "TermsLTV": { "type": "string", "example": "1.1" },
                    "TermsLoanAmount": { "type": "string", "example": "28875.0" },
                    "TermsMonthlyPayment": { "type": "string", "example": "1303.700388839596" },
                    "TermsPTI": { "type": "string", "example": "0.1064245215379262" },
                    "TermsTerm": { "type": "string", "example": "24.0" }
                  }
                }
              },
              "PrimaryCreditBureauPDF": {
                "type": "string",
                "description": "Base64 encoded PDF of primary applicant credit bureau report",
                "example": "JVBERi0xLjUKJeLjz9MKMyAwIG9iago8PC9Db2xvclNwYWNlL0RldmljZVJHQi9NYXNrIFsyNTUgMjU1IDI1NSAyNTUgMjU1IDI1NSBdL1N1YnR5cGUvSW1hZ2UvSGVpZ2h0IDM4L0ZpbHRlci9GbGF0ZURlY29kZS9UeXBlL1hPYmplY3QvV2lkdGggMTEyL0xlbmd0aCAxNDIwL0JpdHNQZXJDb21wb25lbnQgOD4+c3RyZWFtCnic7Zo7axRRGIYFO1t7W0s7Kztbe3trG1t/gT/AP2ATSSGkEEFEEEGQGRUSvBFECRHFG8HgPcT12fPsfp7M7OyuwezswnwcwszZc/nOe97vcs6k1+ukk0466aSTA5EvO7vLG5/O3Fk/trJ6+GpJOXrt0albzy49fbP59Wfb2i2YrGxuHb++dmipoJy48fjsvRcUwDyy/IAa/oJq2zoujFxcfR2gVaj44cfOlZcfhRrqwuG2lFwUAcNDSyWcXN/+3tQGGM/df0UzIP21+3uW6i2WFJ++aODwkFfIeff9ts91SZAWneGPEfgGRGDo6+nbzyFhE1FhKYaPW+jC00gBH8ABIl+hJTEdhMd0IQHoKNokeMIUaEpC+YWHG3L15M0n58sNKHp5/R1xSm9JSKISwN0C4n7bus+pYOk4TyA1U7KQdlJPJebfG9KYSrGlkte2FZ9rMQxh7JATZvIKOcETWvLrzbefARmu2hgy07JVfRdAyOcBDRh9NZM30GPp/EQm4E8dnk0CJ0mBDNYpCy2gYi/5VawbP9BL5MyNHaGeA2mLas+taNRyMjnM/hEJrDBzYxPPyaOWxilMfm3rG+SEom3rPo+COQMgfIsgDmi8gjCkBTSeITBQE/3JBOCwJ1OcQ9u6z6mIz5T5pOQUfxwsD02FlgeteV03p64fRiSGsXWi4N+wzSkb18UjD5CSqI9viZ7e43mY4iFcQ..."
              },
              "PrimaryCreditBureauTradeLines": {
                "type": "string",
                "description": "CSV string containing primary applicant credit bureau trade lines",
                "example": "subscriber,account_type,member,account_num,opened,closed,payment,terms,portfolio_type,balance,high_balance,past_due,rating,30dpd,60dpd,90dpd,account_class,today,age,age_closed,seasoned\nJPMCB CARD,FX,0..."
              },
              "PrimaryCreditInfo": {
                "type": "object",
                "description": "Primary applicant credit information with detailed credit bureau data. Contains all 1136+ credit bureau fields including AGG*, AGGS*, AT*, AU*, BC*, BR*, CV*, FC*, FI*, FR*, G*, HI*, HR*, IN*, JT*, LM*, MD*, MT*, OF*, PAYMNT*, PB*, RE*, RETS*, REVS*, RP*, RT*, RVDEX*, RVLR*, S*, SE*, ST*, TRD*, TRV*, US*, WALSHR*, WALSRTS*, WALSRVS*, and other credit bureau attributes. All fields from the credit bureau response are included.",
                "additionalProperties": {
                  "oneOf": [
                    { "type": "string" },
                    { "type": "number" },
                    { "type": "null" }
                  ]
                },
                "properties": {
                  "CreditScore": { "type": "string", "example": "753.0" },
                  "ApplicantCreditReportDate": { "type": "string", "example": "2025-12-11" },
                  "FileSummaryFileHitIndicator": { "type": "string", "example": "regularHit" },
                  "FileSummarySsnMatchIndicator": { "type": "string", "example": "exact" },
                  "FileSummaryInFileSinceDate": { "type": "string", "example": "1999-05-01" },
                  "FileSummaryMarket": { "type": "string", "example": "29" },
                  "FileSummarySubmarket": { "type": "string", "example": "AZ" },
                  "FileSummaryConsumerStatementIndicator": { "type": "string", "example": "False" },
                  "CreditDataStatusSuppressed": { "type": "string", "example": "False" },
                  "InFileSinceDate": { "type": "string", "example": "1999-05-01" },
                  "TrackingTransactionTimeStamp": { "type": "string", "example": "2025-11-17T12:12:46.001-06:00" }
                }
              },
              "UnderwritingInfo": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "AllWarnings": { "type": "string", "example": "" },
                    "CollateralDefaultProb": { "type": "string", "example": "0.025768364019160397" },
                    "DecisionReason": { "type": "string", "example": "" },
                    "DecisionReasonSimple": { "type": "string", "example": "" },
                    "DecisionStatus": { "type": "string", "example": "APPROVED" },
                    "DefaultProb": { "type": "string", "example": "0.0038391412595749734" },
                    "FairValuePrice": { "type": "string", "example": "1.01" },
                    "ForecastChargeoffAmount": { "type": "string", "example": "53.64759247686432" },
                    "ForecastCompoundingIRR": { "type": "string", "example": "0.13345275863242834" },
                    "ForecastCompoundingNetIRR": { "type": "string", "example": "0.09483225736178147" },
                    "ForecastFairValuePrice": { "type": "string", "example": "1.040644729219909" },
                    "ForecastInterestPaid": { "type": "string", "example": "4819.160498780415" },
                    "ForecastNetLossAmount": { "type": "string", "example": "35.020800528969865" },
                    "ForecastPresentValue": { "type": "string", "example": "29751.105501212747" },
                    "ForecastPrincipalPaid": { "type": "string", "example": "28821.352407523133" },
                    "ForecastRecoveredAmount": { "type": "string", "example": "18.626791947894457" },
                    "ForecastSimpleIRR": { "type": "string", "example": "0.12592463545450983" },
                    "ForecastSimpleNetIRR": { "type": "string", "example": "0.0909440480803152" },
                    "ForecastTotalPaid": { "type": "string", "example": "33659.13969825145" },
                    "ForecastTotalPaidLessFees": { "type": "string", "example": "32330.15064727478" },
                    "SolventProb": { "type": "string", "example": "0.996160858740425" },
                    "TermsApprovedBackEndProducts": { "type": "string", "example": "0.0" },
                    "TermsApprovedFrontEndAmt": { "type": "string", "example": "28875.0" },
                    "TermsApprovedFrontEndLTV": { "type": "string", "example": "109.99580968344063" },
                    "TermsDealerDiscount": { "type": "string", "example": "-0.010000000000000009" },
                    "TermsDealerFlat": { "type": "string", "example": "288.7500000000003" },
                    "TermsDiscountFee": { "type": "string", "example": "2.8421709430404007e-13" },
                    "TermsFundedAmount": { "type": "string", "example": "29163.75" },
                    "TermsLoanDiscount": { "type": "string", "example": "3.637978807091713e-12" },
                    "TermsTotalDiscount": { "type": "string", "example": "-288.74999999999636" },
                    "WarningsNumber": { "type": "string", "example": "0" }
                  }
                }
              }
            }
          },
          "loanInfo": {
            "oneOf": [
              {
                "type": "object",
                "description": "AutoLoan details",
                "properties": {
                  "make": { "type": "string", "example": "Toyota" },
                  "model": { "type": "string", "example": "Corolla" },
                  "year": { "type": "number", "example": 2020 },
                  "age": { "type": "number", "example": 3 },
                  "mileage": { "type": "number", "example": 45000 },
                  "vin": { "type": "string", "example": "1HGCM82633A004352" }
                },
                "required": ["make", "model", "year", "age", "mileage", "vin"]
              },
              {
                "type": "object",
                "description": "Default loan details for non-AutoLoan",
                "properties": {
                  "attribute1": { "type": "string" },
                  "attribute2": { "type": "string" },
                  "attribute3": { "type": "string" }
                }
              }
            ]
          }
        },
        "required": [
          "applicationId", "borrowerId", "lenderId", "primaryServicerId", "secondaryServicerId", "loanType",
          "principalAmount", "loanAmount", "collateralType", "encumberedStatus",
          "interestRate", "term", "paymentFrequency", "installment", "originationDate",
          "maturityDate", "firstPaymentDate", "lastPaymentDate", "nextPaymentDate",
          "defaultProbability", "grade", "predictedPrincipalPaid", "predictedInterestPaid",
          "predictedChargeoffAmount", "predictedRecoveredAmount", "predictedGrossCashflow",
          "predictedNetCashflow", "predictedYield", "apr", "fairValuePrice",
          "lendingDecisionReason", "creditReportHash", "retailInstallmentContractHash",
          "applicantCreditVision", "coApplicantCreditVision", "macroEconomicFeatures", "Request", "Response", "Underwriting"
        ]
      },
      "LoanResponse": {
        "type": "object",
        "properties": {
          "transactionHash": {
            "type": "string",
            "example": "0x5a0c0663a48e3abf16c7f0ee632b57da833e44e02a290fc0920ea2858da31f73"
          },
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          }
        }
      },
      "TransactionResponse": {
        "type": "object",
        "properties": {
          "transactionHash": {
            "type": "string",
            "example": "0x5a0c0663a48e3abf16c7f0ee632b57da833e44e02a290fc0920ea2858da31f73"
          }
        }
      },
      "RequestDocuments": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          }
        },
        "required": [
          "loanId"
        ]
      },
      "VerifyDocuments": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          },
          "documentsComplete": {
            "type": "boolean",
            "example": true
          }
        },
        "required": [
          "loanId",
          "documentsComplete"
        ]
      },
      "StartUnderwriting": {
        "$ref": "#/components/schemas/RequestDocuments"
      },
      "CompleteUnderwriting": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          },
          "approved": {
            "type": "boolean",
            "example": true
          }
        },
        "required": [
          "loanId",
          "approved"
        ]
      },
      "RequestCollateral": {
        "$ref": "#/components/schemas/RequestDocuments"
      },
      "ApproveCollateral": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          },
          "collateralAmount": {
            "type": "number",
            "example": 1500
          }
        },
        "required": [
          "loanId",
          "collateralAmount"
        ]
      },
      "InitiateRepayment": {
        "$ref": "#/components/schemas/RequestDocuments"
      },
      "FundLoan": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0xe8767b8fe19bd639e80505bf399e7df57b56c7ecd1f69d5e5499b436ece087ed"
          },
          "metadata": {
            "type": "object",
            "properties": {
              "fundedDate": {
                "type": "string",
                "format": "date",
                "example": "2024-06-15"
              },
              "currentDpd": {
                "type": "number",
                "example": 0
              },
              "originalBalance": {
                "type": "number",
                "example": 1500
              },
              "currentBalance": {
                "type": "number",
                "example": 1450
              },
              "originalTerm": {
                "type": "number",
                "example": 36
              },
              "remainingTerm": {
                "type": "number",
                "example": 35
              },
              "pti": {
                "type": "number",
                "description": "Payment-to-income ratio (e.g., 0.3 = 30%)",
                "example": 0.25
              },
              "dti": {
                "type": "number",
                "description": "Debt-to-income ratio (e.g., 0.4 = 40%)",
                "example": 0.35
              },
              "ltv": {
                "type": "number",
                "description": "Loan-to-value ratio (e.g., 0.8 = 80%)",
                "example": 0.85
              },
              "scheduledPayment": {
                "type": "number",
                "example": 50
              },
              "currentPaymentDue": {
                "type": "number",
                "example": 50
              },
              "pastDueAmount": {
                "type": "number",
                "example": 0
              },
              "totalPrincipalPaid": {
                "type": "number",
                "example": 50
              },
              "totalInterestPaid": {
                "type": "number",
                "example": 8
              },
              "totalFeesPaid": {
                "type": "number",
                "example": 2
              },
              "chargeoffAmount": {
                "type": "number",
                "example": 0
              },
              "recoveredAmount": {
                "type": "number",
                "example": 0
              },
              "paymentStatus": {
                "type": "string",
                "description": "e.g., 'On Time', 'Late', 'Defaulted'",
                "example": "On Time"
              },
              "scheduledMaturityDate": {
                "type": "string",
                "format": "date",
                "example": "2027-06-15"
              },
              "businessName": {
                "type": "string",
                "description": "Optional field for business loans",
                "example": "Johnson Auto Sales LLC"
              }
            },
            "required": [
              "fundedDate",
              "currentDpd",
              "originalBalance",
              "currentBalance",
              "originalTerm",
              "remainingTerm",
              "pti",
              "dti",
              "ltv",
              "scheduledPayment",
              "currentPaymentDue",
              "pastDueAmount",
              "totalPrincipalPaid",
              "totalInterestPaid",
              "totalFeesPaid",
              "chargeoffAmount",
              "recoveredAmount",
              "paymentStatus",
              "scheduledMaturityDate"
            ]
          }
        },
        "required": [
          "loanId",
          "metadata"
        ]
      },
      "LoanRepay": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x5a0c0663a48e3abf16c7f0ee632b57da833e44e02a290fc0920ea2858da31f73"
          },
          "amount": {
            "type": "number",
            "example": 100
          },
          "refId": {
            "type": "string",
            "example": "REF123"
          }
        },
        "required": [
          "loanId",
          "amount",
          "refId"
        ]
      },
      "AcknowledgePayment": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0x50c6c259c260e46dad03a7b15e308465ad9d42ab26659a4444714c7c4ba5ebcc"
          },
          "refId": {
            "type": "string",
            "example": "REF123"
          }
        },
        "required": [
          "loanId",
          "refId"
        ]
      },
      "CloseLoan": {
        "$ref": "#/components/schemas/AcknowledgePayment"
      },
      "DefaultLoan": {
        "$ref": "#/components/schemas/RequestDocuments"
      },
      "DelinquentLoan": {
        "type": "object",
        "properties": {
          "loanId": {
            "type": "string",
            "example": "0xc3e531a7f2919b5eb1665daec3f6797b20d0c522fa79b41aaff5c5c0a2453191"
          }
        },
        "required": [
          "loanId"
        ]
      },
      "PaymentReminder": {
        "$ref": "#/components/schemas/RequestDocuments"
      },
      "AuthTokenRequest": {
        "type": "object",
        "properties": {
          "clientId": { "type": "string", "example": "76c6c95ca25348d5853a8360baa98b92" },
          "clientSecret": { "type": "string", "example": "71c62382d2c04b790e8037350d9f5f9a837895d39fe7754027ae6daaee76c3e8" }
        },
        "required": ["clientId", "clientSecret"]
      },
      "AuthTokenResponse": {
        "type": "object",
        "properties": {
          "message": { "type": "string", "example": "ok" },
          "data": {
            "type": "object",
            "properties": {
              "token": { "type": "string", "example": "eyJhbGciOi..." },
              "expiresIn": { "type": "integer", "example": 1759818954 }
            },
            "required": ["token", "expiresIn"]
          }
        },
        "required": ["message", "data"]
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}